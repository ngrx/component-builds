!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ngrx/component",["exports","@angular/core","rxjs","rxjs/operators"],t):t(((e=e||self).ngrx=e.ngrx||{},e.ngrx.component={}),e.ng.core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,n){"use strict";function i(){var e=(globalThis||self||window).ng;return void 0===e||void 0===e.probe}function o(e){return"NoopNgZone"!==e.constructor.name}function c(e){var r,n,c=(r=e.ngZone,n=e.cdRef,i()?o(r)?t.ɵmarkDirty:t.ɵdetectChanges:o(r)?n.markForCheck.bind(n):n.detectChanges.bind(n));return(function(){return c(e.context)})}function u(e){var t=new r.Subject,i=t.pipe(n.distinctUntilChanged(),n.map((function(e){return(t=e)?r.from(t):r.of(t);var t})),n.tap((function(t){e.resetContextObserver.next(t),e.work()})),n.map((function(t){return t.pipe(n.distinctUntilChanged(),n.tap(e.updateViewContextObserver))})),e.configurableBehaviour,n.switchAll(),n.tap((function(){return e.work()})));return{next:function(e){t.next(e)},subscribe:function(){return i.subscribe()}}}var s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)c.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return c},a=function(){function e(e,t){var i=this;this.configSubject=new r.Subject,this.config$=this.configSubject.asObservable().pipe(n.distinctUntilChanged()),this.updateViewContextObserver={next:function(e){return i.renderedValue=e}},this.resetContextObserver={next:function(e){return i.renderedValue=void 0}},this.configurableBehaviour=function(e){return e.pipe(n.withLatestFrom(i.config$),n.map((function(e){var t=s(e,2),r=t[0];t[1];return r.pipe()})))},this.cdAware=u({work:c({ngZone:t,cdRef:e,context:e.context}),updateViewContextObserver:this.updateViewContextObserver,resetContextObserver:this.resetContextObserver,configurableBehaviour:this.configurableBehaviour}),this.subscription=this.cdAware.subscribe()}return e.prototype.transform=function(e,t){return void 0===t&&(t={optimized:!0}),this.configSubject.next(t),this.cdAware.next(e),this.renderedValue},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.decorators=[{type:t.Pipe,args:[{name:"ngrxPush",pure:!1}]}],e.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:t.NgZone}]},e}();var f=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)c.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return c};var d=function(){function e(e,t,i,o){var s=this;this.templateRef=i,this.viewContainerRef=o,this.ViewContext={$implicit:void 0,ngrxLet:void 0,$error:!1,$complete:!1},this.configSubject=new r.ReplaySubject,this.config$=this.configSubject.pipe(n.filter((function(e){return null!=e})),n.distinctUntilChanged(),n.startWith({optimized:!0})),this.resetContextObserver={next:function(){s.embeddedView&&(s.ViewContext.$implicit=void 0,s.ViewContext.ngrxLet=void 0,s.ViewContext.$error=!1,s.ViewContext.$complete=!1)}},this.updateViewContextObserver={next:function(e){s.embeddedView||s.createEmbeddedView(),s.ViewContext.$implicit=e,s.ViewContext.ngrxLet=e},error:function(e){s.embeddedView||s.createEmbeddedView(),s.ViewContext.$error=!0},complete:function(){s.embeddedView||s.createEmbeddedView(),s.ViewContext.$complete=!0}},this.configurableBehaviour=function(e){return e.pipe(n.withLatestFrom(s.config$),n.map((function(e){var t=f(e,2),i=t[0];t[1];return i.pipe(n.catchError((function(e){return r.EMPTY})))})))},this.cdAware=u({work:c({cdRef:e,ngZone:t,context:e.context}),resetContextObserver:this.resetContextObserver,updateViewContextObserver:this.updateViewContextObserver,configurableBehaviour:this.configurableBehaviour}),this.subscription=this.cdAware.subscribe()}return e.ngTemplateContextGuard=function(e,t){return!0},Object.defineProperty(e.prototype,"ngrxLet",{set:function(e){this.cdAware.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngrxLetConfig",{set:function(e){this.configSubject.next(e||{optimized:!0})},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(){this.embeddedView=this.viewContainerRef.createEmbeddedView(this.templateRef,this.ViewContext)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.viewContainerRef.clear()},e.decorators=[{type:t.Directive,args:[{selector:"[ngrxLet]"}]}],e.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:t.NgZone},{type:t.TemplateRef},{type:t.ViewContainerRef}]},e.propDecorators={ngrxLet:[{type:t.Input}],ngrxLetConfig:[{type:t.Input}]},e}();var p=[d,a],h=[p],b=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[p],exports:[h]}]}],e}();e.LetDirective=d,e.PushPipe=a,e.ReactiveComponentModule=b,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngrx-component.umd.min.js.map