/**
 * @license NgRx 9.1.0+1.sha-6a18359
 * (c) 2015-2018 Brandon Roberts, Mike Ryan, Rob Wormald, Victor Savkin
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("tslib"),require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ngrx/component",["exports","tslib","@angular/core","rxjs","rxjs/operators"],t):t(((e=e||self).ngrx=e.ngrx||{},e.ngrx.component={}),e.tslib,e.ng.core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,n,r,i){"use strict";function o(e){return"NoopNgZone"!==e.constructor.name}function c(e){return null==e?r.of(e):r.from(e)}function s(e){var t=function r(e,t){return function r(){var e=function t(){return globalThis||self||window}().ng;return void 0===e||void 0===e.probe}()?o(e)?n.ɵmarkDirty:n.ɵdetectChanges:o(e)?t.markForCheck.bind(t):t.detectChanges.bind(t)}(e.ngZone,e.cdRef);return function(){return t(e.context)}}function u(e){var t=new r.Subject,n=t.pipe(i.distinctUntilChanged(),i.map(c),i.tap((function(t){e.resetContextObserver.next(t),e.work()})),i.map((function(t){return t.pipe(i.distinctUntilChanged(),i.tap(e.updateViewContextObserver))})),e.configurableBehaviour,i.switchAll(),i.tap((function(){return e.work()})));return{next:function(e){t.next(e)},subscribe:function(){return n.subscribe()}}}var a=function(){function e(e,n){var o=this;this.configSubject=new r.Subject,this.config$=this.configSubject.asObservable().pipe(i.distinctUntilChanged()),this.updateViewContextObserver={next:function(e){return o.renderedValue=e}},this.resetContextObserver={next:function(e){return o.renderedValue=void 0}},this.configurableBehaviour=function(e){return e.pipe(i.withLatestFrom(o.config$),i.map((function(e){return t.__read(e,2)[0].pipe()})))},this.cdAware=u({work:s({ngZone:n,cdRef:e,context:e.context}),updateViewContextObserver:this.updateViewContextObserver,resetContextObserver:this.resetContextObserver,configurableBehaviour:this.configurableBehaviour}),this.subscription=this.cdAware.subscribe()}return e.prototype.transform=function(e,t){return void 0===t&&(t={optimized:!0}),this.configSubject.next(t),this.cdAware.next(e),this.renderedValue},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.__decorate([n.Pipe({name:"ngrxPush",pure:!1}),t.__metadata("design:paramtypes",[n.ChangeDetectorRef,n.NgZone])],e)}(),d=function(){function e(e,n,o,c){var a=this;this.templateRef=o,this.viewContainerRef=c,this.ViewContext={$implicit:void 0,ngrxLet:void 0,$error:!1,$complete:!1},this.configSubject=new r.ReplaySubject,this.config$=this.configSubject.pipe(i.filter((function(e){return null!=e})),i.distinctUntilChanged(),i.startWith({optimized:!0})),this.resetContextObserver={next:function(){a.embeddedView&&(a.ViewContext.$implicit=void 0,a.ViewContext.ngrxLet=void 0,a.ViewContext.$error=!1,a.ViewContext.$complete=!1)}},this.updateViewContextObserver={next:function(e){a.embeddedView||a.createEmbeddedView(),a.ViewContext.$implicit=e,a.ViewContext.ngrxLet=e},error:function(e){a.embeddedView||a.createEmbeddedView(),a.ViewContext.$error=!0},complete:function(){a.embeddedView||a.createEmbeddedView(),a.ViewContext.$complete=!0}},this.configurableBehaviour=function(e){return e.pipe(i.withLatestFrom(a.config$),i.map((function(e){return t.__read(e,2)[0].pipe(i.catchError((function(e){return r.EMPTY})))})))},this.cdAware=u({work:s({cdRef:e,ngZone:n,context:e.context}),resetContextObserver:this.resetContextObserver,updateViewContextObserver:this.updateViewContextObserver,configurableBehaviour:this.configurableBehaviour}),this.subscription=this.cdAware.subscribe()}return e.ngTemplateContextGuard=function(e,t){return!0},Object.defineProperty(e.prototype,"ngrxLet",{set:function(e){this.cdAware.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngrxLetConfig",{set:function(e){this.configSubject.next(e||{optimized:!0})},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(){this.embeddedView=this.viewContainerRef.createEmbeddedView(this.templateRef,this.ViewContext)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.viewContainerRef.clear()},t.__decorate([n.Input(),t.__metadata("design:type",Object),t.__metadata("design:paramtypes",[Object])],e.prototype,"ngrxLet",null),t.__decorate([n.Input(),t.__metadata("design:type",Object),t.__metadata("design:paramtypes",[Object])],e.prototype,"ngrxLetConfig",null),t.__decorate([n.Directive({selector:"[ngrxLet]"}),t.__metadata("design:paramtypes",[n.ChangeDetectorRef,n.NgZone,n.TemplateRef,n.ViewContainerRef])],e)}(),p=[d,a],f=t.__decorate([n.NgModule({declarations:[p],exports:[[p]]})],(function f(){}));e.LetDirective=d,e.PushPipe=a,e.ReactiveComponentModule=f,Object.defineProperty(e,"__esModule",{value:!0})}));